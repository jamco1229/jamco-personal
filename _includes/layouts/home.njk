---
layout: base
permalink: "/"
---

<div class="home-intro">
  {{ content | safe }}
</div>
<h1 class='projects-heading'>Writing</h1>
{% set writingProjects = collections.writing %}
<ul>
  {% for project in writingProjects %}
    {% if project.inputPath.includes('/projects/') %}
      <li>
        <h3>{{ project.data.title | safe }}</h3>
        <p>{{ project.data.description | safe }}</p>
      </li>
    {% endif %}
  {% endfor %}
</ul>
<h1 class='projects-heading'>Case Studies</h1>
{% set caseStudies = collections.caseStudies %}
<ul>
  {% for project in caseStudies %}
    {% if project.inputPath.includes('/projects/') %}
      <li>
        <h3>{{ project.data.title | safe }}</h3>
        <p>{{ project.data.description | safe }}</p>
      </li>
    {% endif %}
  {% endfor %}
</ul>
<h1 class='projects-heading'>Explorations</h1>
<div class='container'>
{% set entries = collections.all | getPagesByPaths(entries) if entries else collections.projects %}

{# Sort the entries by the 'sort' field in descending order #}
{% set sortedEntries = entries | sort('entry.data.sort') %}

{# For each of the entries #}
{% for entry in sortedEntries %}

  {# Set the defaults #}
  {% set image = false %}
  {% set width = false %}
  {% set height = false %}
  {% set blockClasses = 'md' %}

  {# If the entry has media #}
  {% if entry.data.media %}
    {# Get the first featured image block #}
    {% set block = entry.data.media | getFeaturedImage %}
    {% if block %}
      {% set blockClasses = block.size if block.size %}
      {% set image = block.filename | urlencode %}
      {% set width = block.width if block.width else false %}
      {% set height = block.height if block.height else false %}
    {% endif %}
  {% endif %}

  {# If there is an image we can use #}
  {% if image %}
    <a class="home-block {{ blockClasses }}" href="{{ entry.url }}">
      <article>
        <img
          loading="lazy"
          src="/media/{{ image }}"
          alt=""
          {% if width %}width="{{ width }}"{% endif %}
          {% if height %}height="{{ height }}"{% endif %}
        >
        <div class='home-block-text'>
        <h2 class="home-block-title">{{ entry.data.title | safe }}</h2>
        </div>
      </article>
    </a>
  {% endif %}
{% endfor %}
</div>